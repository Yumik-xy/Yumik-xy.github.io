---
layout: post
title: RFID考试备考笔记
date: 2021-06-17 20:42:00 +0800
categories: RFID
tag: RFID
---

* content
{:toc}
RFID技术与应用（杜正锋老师）期末考试必背考点。参考课本《物联网射频识别（RFID）核心技术教程》

# 物联网与RFID技术

## 物联网概述



### 物联网的概念

物联网的设备：射频识别（RFID）、传感器、全球定位系统、激光扫描器等

物联网（物与物相连的**互联网**）的定义

1. 物联网的核心和基础仍然是互联网，是在互联网基础之上延伸和扩展的一种网络
2. 其用户端延伸和扩展到了任何物体，在物体之间进行信息的交换和通信

### 物联网的作用

**射频识别**是物联网中非常重要的一环，每一个物品都有一个对应的电子标签，内部存储着这些物品的信息，通过射频信号我们就可以对电子标签进行读写、云端交流，以实现信息的共享。一般而言，射频识别在物联网中的作用有：

1. 对物体属性进行标识，静态属性可以直接存储在电子标签中，动态属性则需要实时存储
2. 需要各种自动识别设备，尤其是射频识别设备，来完成对物体属性的读取，并将信息转换为适合网络传输的数据格式
3. 将物体的信息通过网络传输到信息处理中心，由信息处理中心完成物体通信的相关计算，然后进行信息的交换和通信

## 自动识别技术

### 自动识别技术概述

自动识别技术定义：利用机器识别对象的众多技术的统称。光识别、磁识别、电识别和**射频识别**是最主要的运识别方式

自动识别技术分类：

1. 按照国际标准分类，分为「数据采集技术和特征提取技术两大类」
   1. 数据采集技术分为光识别技术、磁识别技术、电识别技术和无线识别技术等
   2. 特征提取技术分为静态特征识别技术、动态特征识别技术和属性特征识别技术等
2. 按照应用领域和具体特征分类
   1. 自动识别技术可以分为条码识别技术、生物识别技术、图像识别技术、磁卡识别技术、IC 卡识别技术、光学字符识别技术和射频识别技术等
   2. **这几种自动识别技术采用了不同的数据采集技术，其中：**
      1. 条码——光识别技术
      2. 磁卡——磁识别技术
      3. IC卡——电识别技术
      4. 射频识别——无线识别技术

### 条码识别技术

1. 一维条码

   1. 码制：`Code25`、`Code39`、`Code93`、`Code128`、`EAN-8`、`EAN-13`等等

   2. 构成：

      1. 左右空白区：作为扫描器的识读准备
      2. 起始符：扫描器开始识读
      3. 数据区：承载数据的部分
      4. 校检符：用于判别识读的信息是否正确
      5. 终止符：条码扫描的结束标志。
      6. 识读字符：机器不能扫描时手工输入用。
      7. 中间分隔符（有些有）

   3. EAN-13码（最流行的一维码），由13个数字构成：

      ![image-20210627133612791](https://yumik-xy.oss-cn-qingdao.aliyuncs.com/img/20210627133620.png!small)

2. 二维条码

   1. 码制：`Datamatrix`、`QR Code`、`Maxicode`、`PDF417`等
   2. 目前最常用的是：`QR Code码`

### RFID技术

RIFD以电子标签来标识一个物体。电子标签通常包含电子芯片和天线，电子芯片用于存储数据，天线用来收发无线电电波

其和传统的标签有以下特点：

1. 抗污损能力强
2. 安全性高
3. 信息容量大
4. 可远距离同时识别多个标签
5. 是物联网的基石

## RFID发展历史

自行了解

## RIFD的应用现状

自行了解

# RFID系统的基本构成

## RFID系统概述

### RFID系统的基本组成

<img src="https://yumik-xy.oss-cn-qingdao.aliyuncs.com/img/20210627140951.png!small" alt="image-20210627140951071" style="zoom:67%;" />

1. 电子标签：由芯片和天线组成
2. 读写器：利用**射频技术**进行的电子标签读写设备，同时读写器可以和系统高层进行数据通信
3. 系统高层：如果复杂的RFID数据需要同时对多个RFID标签进行读写操作，要求进行数据信息交换，这些就必须由系统高层进行数据处理，完成对计算机网络的构成

### RFID系统的工作流程

1. **读写器**通过天线发送一定频率的射频信号
2. 当电子标签进入读写器天线的工作区时，电子标签天线产生足够的感应电流，电子标签获得能量被激活
3. 电子标签将自身信息通过内置天线发送出去
4. 读写器天线接收到从电子标签发送来的无线射频信号
5. 写器天线将无线射频信号传送到读写器
6. 读写器对无线射频信号进行解调和解码，然后送到系统高层进行相关处理
7. 系统高层根据逻辑运算判断该电子标签的合法性
8. 系统高层针对不同的设定做出相应处理，发出指令信号，控制执行机构的动作

<img src="https://yumik-xy.oss-cn-qingdao.aliyuncs.com/img/20210627141810.png!small" alt="image-20210627141810398" style="zoom:67%;" />

### RFID系统的分类方法

1. 按频率分类
   1. 低频系统：30kHz\~300kHz工作范围，RFID常见的工作频率为125kHz和134.2kHz。其标签内保存的数据较少，读取范围较短，但是其价格低廉，外形多样
   2. 高频系统：3MHz\~30MHz工作范围，RFID常见的工作频率为6.75MHz、13.56MHz和27.125MHz。其数据存储量较大，不过作用距离较短，是目前应用比较成熟、适用范围广的系统
   3. 微波系统：>300MHz工作范围，RFID常见的工作频率为433MHz、860/960MHz、2.45GHz和5.8GHz等。其中433MHz、860/960MHz被称为超高频（UHF）频段。其具有较长的读写距离，可以同时对多个系统标签进行读写操作，适用于需要长距离读写、高速率读写的场合
2. 按供电方式分类
   1. 无源供电系统
   2. 有源供电系统
   3. 半有源供电系统
3. 按照耦合方式分类
   1. 电感耦合方式
   2. 电磁反向扩散方式
4. 按照技术方式分类
   1. 主动广播式
   2. 被动倍频式
   3. 被动反射调制式
5. 按照保存信息方式分类
   1. 只读电子标签
   2. 一次写入只读电子标签
   3. 现场有线可改写电子标签
   4. 现场无线可改写电子标签
6. 按照系统档次分类
   1. 低档系统
   2. 中档系统
   3. 高档系统
7. 按照工作方式分类
   1. 全双工和半双工工作方式
   2. 时序工作方式

## 电子标签

### 电子标签的基本组成

1. 电子标签由**芯片**和**天线**组成
2. 电子标签具有一定的存储容量，并可以对接收到的信号进行解调、解码等操作，并对返回数据进行编码、调制等操作
3. 天线需接收读写器发射的信号，并将本身的数据信号进行发送

### 电子标签的工作特点

1. 低频电子标签
   1. 一般是无源标签，通过电感耦合方式从读取器获取能量，并发送数据
   2. 低频电子标签的优点
      1. 低频频率使用自由，不受无线电管理委员会约束
      2. 低频电波穿透能力强
      3. 一般使用`CMOS`工艺，省电、价格低廉
      4. 封装形式多样
      5. 读写区域相对均匀
   3. 低频电子标签的缺点
      1. 数据存储量小
      2. 识别距离近，数据传输速度慢
      3. 芯片采用环形天线，若线圈数量多，会造成价格相对昂贵
2. 高频电子标签
   1. 一般是无源标签，通过电感耦合方式获取能量，其使用振幅调制进行数据传输
   2. 常用于二代居民身份证、电子车票等
   3. 高频电子标签的优点
      1. 数据存储量更大
      2. 频率更高，数据传输速率更大
      3. 电子标签天线使用**腐蚀印刷方式**制作，更为简单
      4. 读写区域相对均匀
      5. 可以同时读写多个电子标签
      6. 13.56MHz可以免许可使用
   4. 高频电子标签的缺点
      1. 波长较长，穿过材料时会降低读取距离
      2. 识别距离近，一般小于1.5m
      3. 除了13.56MHz频段，会受到无线电管理委员会的约束
3. 微波电子标签
   1. 可以是有源/无源电子标签，其不作为大量数据的载体，而是发挥无接触识别的作用
   2. 常见的用于高档服装店的衣服防丢扣
   3. 微波电子标签的优点：
      1. 与读写器距离较远，可达到4\~7m
      2. 有很高的数据传输速率
      3. 可以读取高速运动物体的数据
      4. 可以同时读取多个电子标签
   4. 微波电子标签的缺点：
      1. 微波的穿透能力很弱，穿越水、木材、有机物质时会降低读取距离
      2. 微波完全不能穿透金属
      3. 灰尘等都会对传输产生影响

## 读写器

### 读写器的功能模块

自行了解

## 系统高层

**中间件部分**是最主要的考点

1. 中间件的概念：是介于RFID读写器与后端应用程序之间的独立软件，可以与多个读写器和多个后端应用相连，应用程序通过中间件就可以连接到读写器，读取电子标签的数据
2. 中间件的好处：降低设计的耦合性。数据库软件改变、后端应用程序软件改变或读写器种类增加时，应用端无需修改也可工作

# 物联网RFID系统架构

## 全球物品编码

### 条码编码EAN-13

`EAN-13`编码是标准的EAN编码格式，采用13位数字表示，其缩短版称为`EAN-8`码

其中图书和期刊也使用了EAN-13编码，分别称为`ISBN`和`ISSN`

##### 例3.1-N-13条码的计算

1. 当前缀码为“690”时厂商代码容量：

   当前缀码为“690/691”时，厂商:商品=4:5，当前缀码为“692”时，厂商:商品=5:4

   因此厂商代码容量：$10^4=10000个$

2. 当前缀码为“690”时商品项目容量：

   因此**每个厂商的**商品项目容量：$10^5=100000个$

   总的商品容量为：$10^4\times10^5=10^9个$

3. EAN-13条码的最大编码容量：

   前3位时国家前缀码，因此有1000个国家前缀码容量，因而最大编码容量为：$10^3\times10^9=10^{12}$

### EPC射频识别的编码标准

`EPC`既是射频识别的编码标准，也是全国统一标识系统的总要组成部分，现行条码标准开始向EPC标准过度

1. EPC的编码容量

   EPC属于二进制码，有64位、96位和256位编码结构

   |  编码结构  |    类型    | 版本号 | 域名管理者 | 对象分类代码 | 序列号 |
   | :--------: | :--------: | :----: | :--------: | :----------: | :----: |
   |   EPC-64   |   TYPE Ⅰ   |   2    |     21     |      17      |   24   |
   |   EPC-64   |   TYPE Ⅱ   |   2    |     15     |      13      |   34   |
   |   EPC-64   |   TYPE Ⅲ   |   2    |     26     |      13      |   23   |
   | **EPC-94** | **TYPE Ⅰ** | **8**  |   **28**   |    **24**    | **36** |
   |  EPC-256   |   TYPE Ⅰ   |   8    |     32     |      56      |  160   |
   |  EPC-256   |   TYPE Ⅱ   |   8    |     64     |      56      |  128   |
   |  EPC-256   |   TYPE Ⅲ   |   8    |    128     |      56      |   64   |

2. EPC的特点：

   1. 编码容量巨大，可以给全球每一个物品进行编码，相同的物品也可以有不同的编码
   2. 兼容性强，与EAN/UCC条码标准兼容
   3. 全面性强：由于1.可以独立编码，各个方位全面适用
   4. 合理性：管理者、对象分配明确便于管理
   5. 国际性：不再区分国家，全球统一

##### 例3.2-EPC-96位结构条码的计算

1. 域名管理者代码的编码容量：$2^{28}$
2. 每个域名管理者的对象分类代码的编码容量：$2^{24}$
3. 每个对象分类代码的物品数目的编码容量：$2^{36}$
4. EPC的编码容量：$2^{36}\times2^{24}\times2^{28}=2^{96}$

## 中间件

自行了解

## 物联网名称解析服务和信息发布服务



**物联网名称解析服务**（IOT-ONS）和**信息发布服务**（IOT-IS）是物联网两个组成部分，主要用于完成信息的传输和管理功能

- **物联网名称解析服务**（IOT-ONS）：将电子标签的ID号解析成对应的网络资源地址

- **物联网信息发布服务**（IOT-IS）：负责对物联网中的信息进行处理和发布

### 物联网网络服务概述

- 物联网信息服务器：物联网的网络是建立在Internet上的，有关物品的大量信息存放在网上的物联网信息服务器，存放地址与物品的表示ID一一对应
- 物联网名称解析服务器：将电子标签的ID号解析成对应的网络资源地址
- EPC系统表达和传递相关信息的语言是**实体标记语言**（PML，由可拓展标记语言XML发展而来）

### 物联网名称解析服务

该服务类似DNS域名解析服务，目前比较成熟的是EPC系统的对象名称解析服务`ONS`，其作用是通过EPC获取EPC数据访问的通道信息

1. ONS的作用

   1. ONS以DNS为基础，通过DNS来查找EPC信息
   2. ONS的存储记录是授权的，只有EPC的拥有者可以对其进行更新、添加和删除
   3. 企业拥有的本地ONS服务器拥有两个功能，一实现EPC信息服务地址的存储；二实现与外界的信息交换，将存储信息向根ONS服务器进行报告，或获取存储结果

2. ONS的原理

   1. 电子标签的EPC被读写器读取后，将EPC传输到本地服务器，本地服务器通过本地查询或根ONS服务器查找对应EPC的EPCIS服务器地址，获取其他服务器存储的EPC信息

   2. 其整体流程如下：

      1. 电子标签的EPC被读写器识读
      2. 读写器将EPC上传到本地服务器
      3. 本地服务器中有物联网中间件，中间件屏蔽了不同厂家读写器的多样性，可以实现不同硬件与不同应用软件的无缝连接，同时筛选掉许多冗余数据，将真正有用的数据传送到后台
      4. 本地服务器将EPC进行相应的统一资源标识符（URI）格式转换，然后发送到本地的ONS解析器。
      5. 本地ONS解析器将EPC的URI格式转换为一个DNS域名
      6. 本地ONS解析器基于DNS域名访问本地ONS服务器，如果发现相关ONS记录则返回，否则转发给上级ONS服务器
      7. 本地ONS服务器或上级ONS服务器基于DNS域名查询到EPCIS服务器的IP地址
      8. ONS服务器将EPCIS服务器的P地址发送给本地ONS解析器
      9. 本地ONS解析器再将EPCIS服务器的IP地址发送给本地服务器。
      10. 本地服务器基于EPCIS服务器的P地址访问EPCIS服务器，通过EPCIS服务器查询产品信息或打开产品网页。

      ![image-20210627191507044](https://yumik-xy.oss-cn-qingdao.aliyuncs.com/img/20210627191507.png!small)

### 物联网信息发布服务

物联网信息发布服务是勇敢网络数据库实现的，IOTIS提供了一个数据和服务的接口，使得信息得以共享。目前比较成熟的就是EPC的`EPCIS`服务

1. EPCIS的作用：EPCIS提供2种数据流动方式

   1. 存储电子标签数据至EPCIS
      1. 制造日期和有效期等序列数据，是**静态属性数据**
      2. 颜色、重量和尺寸等产品类别数据，是**静态属性数据**
      3. 电子标签的观测记录，是具有时间戳的物品**历史数据**
      4. 传感器的测量数据，是具有时间戳的物品**历史数据**
      5. 物品的位置，是具有时间戳的物品**历史数据**
      6. 阅读物品信息的读写器位置，是具有时间戳的物品**历史数据**
   2. 从EPCIS查询电子标签数据
      1. 通过EPCIS中存储的静态属性数据、具有时间戳的物品历史数据等，查询到物品位置、品牌等信息

2. EPCIS的工作原理

   1. 其主要包括**客户端模块**、数据存储模块和**数据查询模块**

   2. 工作原理图

      <img src="https://yumik-xy.oss-cn-qingdao.aliyuncs.com/img/20210627192114.png!small" alt="image-20210627192114575" style="zoom: 80%;" />

      - 客户端模块：存储着电子标签信息，主要用来将电子标签的信息向指定EPCIS服务器传输
      - 数据存储模块：包含SOAP、服务器管理应用程序、数据库和PML文档4部分，
      - 数据查询模块：包含SOAP、服务器管理应用程序、数据库、PML文档和HTML文档5部分
      - 简单对象访问协议（SOAP）：是一种非集中、分布环境的信息交换协议，它使用SOAP信封将信息的内容、来源和处理框架封装起来，传递给服务器管理应用程序，并传递给物联网客户
      - 服务器管理应用程序：接收和处理SOAP发送的数据，并将处理结果反馈给SOAP
      - 数据库：存储信息
      - PML文档：用来整合信息，并用来在读写器、中间件和EPCIS之间进行信息交换
      - HTML文档：即网页，EPCIS具有生成HTML文档的功能。

# 电磁波的工作特点

## 频率划分

### RFID使用的频段

参考前文 [RFID系统的分类方法](#rfid系统的分类方法) 

RFID系统通常使用为工业、科学和医疗特别保留的ISM频段，为：6.78MHz、13.56MHz、27.125MHz、40.68MHz、433.92MHz、869.0MHz、915.0MHz、2.45GHz、5.8GHz、24.125GHz以及60GHz等，除此以外还会使用0\~135kHz之间的频段

## RFID电波传播的电参数

### 波的极化

波的极化指在空间任一固定点上，波的电场矢量空间取向随时间变化的方式，用电场强度的矢端轨迹来描述。波的极化方式一共有三种：线极化波，圆极化波和椭圆极化波。电场表示为：

$\begin{aligned}
\boldsymbol{E} &=\boldsymbol{e}_{x} E_{x}+\boldsymbol{e}_{y} E_{y} \\
&=\boldsymbol{e}_{x} E_{xm} \cos \left(\omega t+\psi_{x}\right)+e_{y} E_{ym} \cos \left(\omega t+\psi_{y}\right)
\end{aligned}$

1. 线极化波：$E_x$和$E_y$同相或相差$\pi$个相位
2. 圆极化波：$E_x$和$E_y$的振幅相同，相位相差$\pm \pi / 2$
3. 椭圆极化波：$E_x$和$E_y$的振幅和相位都不相同

## 微波RFID电磁波的特性

### 自由空间的传播损耗

自由空间（理想介质）的传播损耗指电磁波在传播过程中，随着传播距离的增大，能量自然扩散而引起的损耗：

$L_{bf}=20 \lg \left(\frac{4 \pi d}{\lambda}\right) \mathrm{d} \mathrm{B} \\$，或$L_{bf}=32.45+20 \lg f(MHz)+20 \lg d(km) dB$

其中$d$为电波传播距离，$\lambda$为工作波长，$f$为工作频率。可以看出电波传播距离越长，工作频率越高，自由空间的传输损耗也会越大

##### 例4.6-求自由空间传播损耗

在空气中，已知微波RFID的工作频率$f=920MHz$，读写器与电子标签的距离$d=10m$，求读写器与电子标签的电波传输损耗

由公式可得：$L_{bf}=32.45+20 \lg 920(MHz)+20 \lg 0.01(km) dB=51.7dB$

### RFID电磁波的传播机制

1. 直射、反射、绕射和散射

   1. 直射：电磁波在自由空间中传播，没有障碍物
   2. 反射：反射是由障碍物产生的。当障碍物的几何尺寸大于波长时，电磁波无法绕过该物体，便会在该物体表面发生反射
   3. 绕射：绕射是由障碍物产生的。当障碍物的尺寸与波长接近且有光滑边缘时，电磁波可以从该物体边缘绕过去
   4. 散射：散射是由障碍物产生的。当障碍物的尺寸小于波长，电磁波发生散射，这通常发生在粗糙物体的表面

2. RFID电磁波的传播

   1. 433MHz与800/900MHz频段：绕射能力强，障碍物对电磁波的干扰小
   2. 2.45GHz与5.8GHz频段：有一定抗干扰能力，但收发天线之间最好没有障碍物
   3. GHz更多频段：不仅障碍物会影响，云、雨、雾也会造成影响，频率越高、波长越短影响越大

3. 衰减与衰落

   1. 衰减：自由空间的传输损耗和障碍物的分隔阻挡等

   2. 衰落：信号随时间的起伏现象，可以是在短时间快速变化的快衰落，也可以是在长时间缓慢变化的慢衰落

      ![image-20210628084014352](https://yumik-xy.oss-cn-qingdao.aliyuncs.com/img/20210628084014.png!small)

      **引起衰落的原因**分为：

      1. 吸收型衰落：由传输媒介的电参数变化引起的

      2. 干涉型衰落：由随机的多径传输引起的（RFID主要是干涉型衰落）

         干涉型衰落又称为多径衰落，接收点的场强是不同路径的场的叠加，只要各路径的时延稍有变化，合成信号电平就有明显的快速起伏，表现出快衰落的特征。

         当电波经过两个或两个以上不同长度的路径传播到达接收点时，接收天线得到的信号是几个不同路径的信号之和，由于空间信号是用电磁场表示的，接收天线收到的是几个电场的叠加。多个路径长度有差别，将引起明显的失真。

# 天线基础















